<md-content layout = "column" style = "height:100vh;" ng-keydown="changeSelected()">  
  <md-toolbar layout = "row" style = "z-index:3">
    <span flex = "5"></span><h1>WeTube</h1>
    <span flex></span>
    <div layout = "column">
      <span flex></span>
      <div layout = "row">

        <!-- search bar -->
        <div layout = "column">
          <span flex></span>
          <div layout = "row">
            <input ng-model = "searchQuery" ng-change = "displayOptions()" >
            <img layout-align = "center" class="material-icons toolbar" src = "/styles/search.png">
          </div>
          <span flex></span>
            <div class = "menuItem">
              <div class = "searchBox" ng-repeat = "option in searchOptions track by $index" ng-mouseover = "select($index)" ng-class = "{selected:option.selected}" ng-click = "fullSearch(option.name)">
                <p>search {{searchQuery}} {{option.article}} {{option.name}}</p>
              </div>
            </div>
        </div>

        <md-button class="md-button" aria-label="Settings" ng-href = '/api/logout'>
          <img class="png-icon" src="styles/ic_exit_to_app_black_24dp_2x.png" >
        </md-button>  
      </div>
      <span flex></span>
   </div>
    <span flex = "5"></span>
  </md-toolbar>

  <div layout = "row" flex style = "z-index:2">
    <md-sidenav md-is-locked-open = "true" md-component-id="left" class = "sidenav background shadow" flex = "20" layout = "column">

      <md-toolbar layout = "row" ng-show = "friendRequests.length" ng-click = "displayRequests = !displayRequests;" class = "sidenav">
        <span flex></span>
        <h3> Friend Requests </h3>
        <span flex></span>
        <div layout = "column">
          <!-- <img src="styles/backArrow.png" class = "button" ng-click = "toggleSideNav()"> -->
          <span flex></span>
        </div>
      </md-toolbar>

      <md-content ng-show = "displayRequests">
        <md-card ng-repeat = "request in friendRequests" class = "friendRequest">
          <md-card-content layout = "row">

          <img class = "smallThumbnail" ng-src = "{{request.profile_photo}}"/>

          <div layout = "column">
            <label> {{request.displayName}} </label>
            <label> {{request.email}} </label>
            <div layout = "row">
              <!-- can't seem to select things properly here, using inline styling -->
              <div flex style = "width:100px" class = "md-button" ng-click = "addFriend(request.id)">
                <img src="/styles/check.png">
              </div>
              <!-- flex property wasn't working here for some reason -->
              <div flex class = "md-button" ng-click = "cancelRequest(request.id)">
                <img  src="/styles/cancel.png">

              </div>
            </div>
          </div>
          </md-card-content>
        </md-card>
      </md-content>



      <div style = "z-index:1">
      <md-toolbar layout = "row" ng-click = "hideFriends = !hideFriends" >
        <span flex></span>
        <h3> Friends </h3>
        <span flex></span>
      </md-toolbar>
      </div>
      <md-content flex ng-hide = "hideFriends">
        <md-card ng-repeat = "friend in friends" class = "friend">
          <md-card-content>
            <div layout = "row">
              <label>{{friend.name}}</label>
              <span flex></span>
              <span style = "float:right">5 min ago</span>
            </div>
          </md-card-content>
        <md-card>
      </md-content>
    </md-sidenav>

    <div flex layout = "column">

      <div ui-view flex></div>
      <div layout = "row" style = "z-index:3">
          <md-content class = "chatBox" layout = "column">
            <div class="chatBoxHeader" layout = "column">
              <span flex></span>
              <div layout = "row">
                <span flex></span>
                <label>Hi</label>
                <span flex></span>
              </div>
              <span flex></span>
            </div>
            <div class = "chatBoxMessages">
              <p>message</p>
              <p>message</p>
              <p>message</p>
            </div>
            <input>
          </md-content>
      </div>
    </div>


  </div>

</md-content>  